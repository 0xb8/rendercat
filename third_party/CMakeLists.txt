add_subdirectory(fmt)
add_subdirectory(mikktspace)
add_subdirectory(tiny_obj)
add_subdirectory(tinyheaders_integration)
add_subdirectory(stb_integration)

set(OPTION_BUILD_TESTS      OFF)
set(OPTION_BUILD_GPU_TESTS  OFF)
set(OPTION_BUILD_DOCS       OFF)
set(OPTION_BUILD_TOOLS      OFF)
set(OPTION_BUILD_EXAMPLES   OFF)
add_subdirectory(glbinding)
set_target_properties(glbinding     PROPERTIES RUNTIME_OUTPUT_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})
set_target_properties(glbinding-aux PROPERTIES RUNTIME_OUTPUT_DIRECTORY ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

set(GLFW_BUILD_EXAMPLES OFF)
set(GLFW_BUILD_TESTS    OFF)
set(GLFW_BUILD_DOCS     OFF)
set(GLFW_INSTALL        OFF)
add_subdirectory(glfw)

set(ZCM_ENABLE_TESTS OFF)
set(ZCM_ENABLE_COVERAGE_IN_DEBUG OFF)
add_subdirectory(zcm)
add_subdirectory(imgui_integration)
add_subdirectory(debug_draw_integration)

set(JSON_BuildTests OFF CACHE INTERNAL "")
add_subdirectory(nlohmann_json)
add_subdirectory(fx-gltf)

if(CMAKE_COMPILER_IS_GNUCXX)
	set(DEBUG_OPTIMIZED_OPTS "-O3")
	target_compile_options(glbinding      PRIVATE  $<$<CONFIG:DEBUG>:${DEBUG_OPTIMIZED_OPTS}> "-g0")
	target_compile_options(glbinding-aux  PRIVATE  $<$<CONFIG:DEBUG>:${DEBUG_OPTIMIZED_OPTS}> "-g0")
	target_compile_options(stb_image      PRIVATE  $<$<CONFIG:DEBUG>:${DEBUG_OPTIMIZED_OPTS}>)
	target_compile_options(tinyfiles      PRIVATE  $<$<CONFIG:DEBUG>:${DEBUG_OPTIMIZED_OPTS}>)
	target_compile_options(mikktspace     PRIVATE  $<$<CONFIG:DEBUG>:${DEBUG_OPTIMIZED_OPTS}>)
	target_compile_options(imgui          PRIVATE  $<$<CONFIG:DEBUG>:${DEBUG_OPTIMIZED_OPTS}>)
	target_compile_options(zcm            PRIVATE  $<$<CONFIG:DEBUG>:${DEBUG_OPTIMIZED_OPTS}>)
	target_compile_options(debug_draw     PRIVATE  $<$<CONFIG:DEBUG>:${DEBUG_OPTIMIZED_OPTS}>)
endif()
